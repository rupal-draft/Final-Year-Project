%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#1e40af',
    'primaryTextColor': '#ffffff',
    'primaryBorderColor': '#1d4ed8',
    'lineColor': '#374151',
    'secondaryColor': '#dbeafe',
    'tertiaryColor': '#bfdbfe'
  }
}}%%

graph TB
    %% Styling
    classDef header fill:#1e40af,stroke:#1d4ed8,stroke-width:3px,color:#ffffff,font-weight:bold
    classDef search fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef results fill:#10b981,stroke:#059669,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef positive fill:#dc2626,stroke:#b91c1c,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef metrics fill:#f59e0b,stroke:#d97706,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef responsive fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#ffffff,font-weight:bold
    
    subgraph "ğŸ“± Main Application Container"
        Header["ğŸ§¬ Header Section<br/>â€¢ DNA Animation Background<br/>â€¢ Gradient: Teal â†’ Indigo<br/>â€¢ Title: 'Essential Protein Identification'<br/>â€¢ Height: 200px"]:::header
        
        subgraph "ğŸ” Protein Selection Interface"
            Dropdown["ğŸ“‹ Protein Dropdown<br/>â€¢ Width: 320px<br/>â€¢ Height: 80px<br/>â€¢ Max dropdown: 240px<br/>â€¢ Search functionality"]:::search
            SearchInput["ğŸ” Search Input<br/>â€¢ Full width<br/>â€¢ Height: 48px<br/>â€¢ Placeholder: 'Search proteins...'<br/>â€¢ Icon: Magnifying glass"]:::search
            SubmitBtn["ğŸš€ Submit Button<br/>â€¢ Width: 320px<br/>â€¢ Height: 80px<br/>â€¢ Text: 'Detect Protein'<br/>â€¢ Gradient background"]:::search
        end
        
        subgraph "ğŸ“Š Results Display Area"
            subgraph "âœ… Negative Result Layout"
                NegHeader["âœ… Success Header<br/>â€¢ Green theme<br/>â€¢ Checkmark icon<br/>â€¢ 'Low Risk Detected'"]:::results
                MetricsGrid["ğŸ“ˆ Metrics Grid (3-column)<br/>â€¢ Accuracy Circle (40px radius)<br/>â€¢ F1 Score Circle (40px radius)<br/>â€¢ ROC AUC Circle (40px radius)<br/>â€¢ Animated progress"]:::metrics
                ChartsGrid["ğŸ“Š Charts Grid (3-column)<br/>â€¢ Confusion Matrix<br/>â€¢ Precision-Recall Curve<br/>â€¢ ROC Curve<br/>â€¢ Base64 images"]:::metrics
                HealthyCell["ğŸ”¬ Healthy Cell Image<br/>â€¢ Aspect ratio: 16:9<br/>â€¢ Max width: 800px<br/>â€¢ Rounded corners"]:::results
            end
            
            subgraph "âš ï¸ Positive Result Layout"
                PosHeader["âš ï¸ Alert Header<br/>â€¢ Red theme<br/>â€¢ Warning icon<br/>â€¢ 'High Risk Detected'"]:::positive
                PosMetrics["ğŸ“ˆ Metrics Grid (3-column)<br/>â€¢ Same as negative<br/>â€¢ Red color scheme"]:::positive
                DrugSection["ğŸ’Š Drug Repurposing Section<br/>â€¢ Expandable cards<br/>â€¢ Tabbed interface<br/>â€¢ Full width"]:::positive
                
                subgraph "ğŸ’Š Drug Card Layout"
                    DrugHeader["ğŸ·ï¸ Drug Header<br/>â€¢ Drug name & ID<br/>â€¢ Expand/collapse button<br/>â€¢ Description text"]:::positive
                    TabNav["ğŸ“‘ Tab Navigation<br/>â€¢ Overview | Chemical | Research<br/>â€¢ Active state styling"]:::positive
                    
                    subgraph "ğŸ“‹ Tab Content Areas"
                        Overview["ğŸ”¬ Overview Tab<br/>â€¢ 2-column grid<br/>â€¢ Molecular structure (1:1)<br/>â€¢ Key properties list"]:::positive
                        Chemical["ğŸ§ª Chemical Tab<br/>â€¢ Physical properties<br/>â€¢ IUPAC names<br/>â€¢ 3D viewer (16:9)"]:::positive
                        Research["ğŸ“š Research Tab<br/>â€¢ PubMed articles list<br/>â€¢ Clinical trials list<br/>â€¢ External links"]:::positive
                    end
                end
                
                CancerCell["ğŸ¦  Cancer Cell Image<br/>â€¢ Aspect ratio: 16:9<br/>â€¢ Max width: 800px<br/>â€¢ Red border accent"]:::positive
            end
        end
    end
    
    subgraph "ğŸ“± Responsive Constraints"
        Mobile["ğŸ“± Mobile (320px+)<br/>â€¢ Single column<br/>â€¢ Stack vertically<br/>â€¢ Touch-friendly buttons<br/>â€¢ Collapsible sections"]:::responsive
        Tablet["ğŸ“± Tablet (768px+)<br/>â€¢ 2-column grid<br/>â€¢ Larger touch targets<br/>â€¢ Optimized spacing"]:::responsive
        Desktop["ğŸ–¥ï¸ Desktop (1024px+)<br/>â€¢ 3-column grid<br/>â€¢ Full feature set<br/>â€¢ Hover effects<br/>â€¢ Keyboard navigation"]:::responsive
    end
    
    %% Layout Flow
    Header --> Dropdown
    Dropdown --> SearchInput
    SearchInput --> SubmitBtn
    SubmitBtn --> NegHeader
    SubmitBtn --> PosHeader
    
    NegHeader --> MetricsGrid
    MetricsGrid --> ChartsGrid
    ChartsGrid --> HealthyCell
    
    PosHeader --> PosMetrics
    PosMetrics --> DrugSection
    DrugSection --> DrugHeader
    DrugHeader --> TabNav
    TabNav --> Overview
    TabNav --> Chemical
    TabNav --> Research
    DrugSection --> CancerCell